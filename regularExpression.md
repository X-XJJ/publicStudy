# 正则表达式
正则表达式，又称规则表达式 Regular Expression，简写regex、regexp或RE
对字符串操作的一种逻辑公式，用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”
这个“规则字符串”用来表达对字符串的一种过滤逻辑

```
- 匹配“[ 8]”或“[7]”等：\[ *.\]。“\[”匹配[，“ *”匹配
- 匹配“[ 8]”或“[17]”等：\[ *.\d\]


```




元字符
^ $ . [ ]  { } - ? * + ( ) | \

使用

^ 匹配输入字符串的开始位置，即 开始匹配标记
[0-9] 匹配单个数字 [0-9]+ 匹配多个数字
+ 匹配一个or多个
$ 匹配输入字符串的结束位置，即结束标记


正则表达式

1、元字符

元字符

元字符  说明
.   匹配任意字符
[abc]   匹配方括号中的任意一个字符，可用-表示字符范围。如[a-z0-9]匹配小写字母和数字
[^abc]  匹配除方括号中字符之外的任意字符
\d  匹配阿拉伯数字，等同于[0-9]
\D  匹配阿拉伯数字之外的任意字符，等同于[^0-9]
\x  匹配十六进制数字，等同于[0-9A-Fa-f]
\X  匹配十六进制数字之外的任意字符，等同于[^0-9A-Fa-f]
\l  匹配[a-z]
\L  匹配[^a-z]
\u  匹配[A-Z]
\U  匹配[^A-Z]
\w  匹配单词字母，等同于[0-9A-Za-z_]
\W  匹配单词字母之外的任意字符，等同于[^0-9A-Za-z_]
\t  匹配<TAB>字符
\s  匹配空白字符，等同于[\t]
\S  匹配非空白字符，等同于[^\t]
一些普通字符需转意

元字符  说明
\*  匹配* 字符
.   匹配. 字符
\/  匹配 / 字符
\   匹配 \ 字符
\[  匹配 [ 字符
\]  匹配 ] 字符
表示数量的元字符

元字符  说明
*   匹配0-任意个
\+  匹配1-任意个
\?  匹配0-1个
\{n,m}  匹配n-m个
\{n}    匹配n个
\{n,}   匹配n-任意个
\{,m}   匹配0-m个
表示位置的元字符

元字符  说明
$   匹配行尾
^   匹配行首
\<  匹配单词词首
\>  匹配单词词尾
2、替换变量

在正则式中以\(和\)括起来的正则表达式，在后面使用的时候可以用\1、\2等变量来访问\(和\)中的内容。

例子

删除行尾空格：:%s/\s+$//g
删除行首多余空格：%s/^\s*// 或者 %s/^ *//
删除沒有內容的空行：%s/^$// 或者 g/^$/d
删除包含有空格组成的空行：%s/^\s*$// 或者 g/^\s*$/d
删除以空格或TAB开头到结尾的空行：%s/^[ |\t]*$// 或者 g/^[ |\t]*$/d
把文中的所有字符串“abc……xyz”替换为“xyz……abc”可以有下列写法
1
2
:%s/abc\(.*\)xyz/xyz\1abc/g
:%s/\(abc\)\(.*\)\(xyz\)/\3\2\1/g


