# 相关其他
## URL 统一资源定位符 Uniform Resource Locator
- URL是全球资源定位符的英文所写，您平时上网时在IE浏览器中输入的那个地址就是URL。比如：网易 http://www.163.com就是一个URL。
- URI是Web上可用的每种资源 - HTML文档、图像、视频片段、程序,由一个通过通用资源标志符(Universal Resource Identifier, 简称"URI")进行定位。 
- URL的格式由下列三部分组成: 
  - 第一部分：协议(或称为服务方式);
  - 第二部分：存有该资源的主机IP地址(有时也包括端口号);
  - 第三部分：主机资源的具体地址。
- URI一般由三部分组成: 
  - 访问资源的命名机制。
  - 存放资源的主机名。
  - 资源自身的名称，由路径表示。
- URI 是从虚拟根路径开始的，URL是整个链接
## Servlet原理
- C/B 请求 → server服务端（含tomcat → servlet） → 结果返回C/B
- servlet 线程池
  - 对于tomcat每次的请求都给他分配一个线程，用完将线程返回servlet
## tomcat
- 安装
  - /bin：startup.bat/sh开启 shutdown.sh/bat关闭
  - webapp/
  - config/：service.xml全局配置文件，一般不在这里进行详细配置 各种配置文件.xml catalina/目录配置文件.xml
## 金融类
- cics
- SOAP通信

# 体系结构
- 协议：语意，语法，时序
- 接口：SAP System Applications and Products？？
- 服务：面向连接/无连接，可靠/不可靠-尽最大努力，有应答/无应答
## 一些概念
- 计算机网络：互联的、自治的计算机系统集合
- 组成
  - 组成成分 =｛硬件，软件，协议｝
  - 工作方式 =｛边缘，核心｝
  - 功能组成 =｛通信子网，资源子网｝
- 功能：数据通信，资源分享，分布式处理，提高可靠性，负载均衡
- 分类
  - 分布范围-万慢懒胖：Wide/Metropolitan/Local/Personal Area Network
    - 广域网WAN，城域网MAN，局域网LAN，个人区域网PAN
  - 传输技术：广播式网络，点对点网络
  - 拓扑结构：星型，总线型，环形，网状型
  - 使用者：公用网，专用网
  - 交换技术：电路交换网，报文交换-存储转发网，分组交换-包交换网
  - 传输介质：无线，有线，双绞线，同轴电缆，光纤，...
- 性能指标
  - 带宽：b/s，bps
  - 时延 = 发送/传输时延 + 传播时延 + 处理时延 + 排队时延
    - 发送or传输时延 = 分组长度/信号宽度
    - 传播时延 = 信道长度/电磁波在信道上的传播速率
  - 时延带宽积 = 该管道可容纳的比特数量
  - 往返时延RTT Round-Trip-Time，RTT = 
  - 吞吐量 = 
  - 速率：b/s
    - 传输速率 = 发送的快慢
    - 带宽 = 信道所能达到的的传输速率极限
    - 传播速率 = 电磁波信道中传播速度
## 分层的体系结构
- 分层依据原则：实现独立功能，交互流少，上层对下层独立，标准化，...
- 报文分类 = 数据部分SDU报文 + 控制信息部分报文
  - 控制信息部分：PCI PDU
    - PCI总线？？
    - PDU 协议数据单元 Protocol-Data-Unit
      - 对等层次之间传递的数据单位
      - 物理层-比特，数据链路层-帧，网络层-分组，传输层-报文
  - 报文逐层封装，高层报文为低层的数据部分
- 层次结构：N辰使用N-1以下服务，N层为N+1以上服务
- 七层 OSI 开放系统互联 Open-System-Interconnection
  - 物理层 - 数据链路层 - 网络层 - 传输层 - 会话层 - 表示层 - 应用层
- 四层 TCP/IP
  - 网络接口层（物理+数据链路） - 网际层 - 传输层 - 应用层（会话+表示+应用）
- 五层 综合使用
  - 物理层 - 数据链路层 - 网络层 - 传输层 - 应用层
- 概述五层
  - 物理层：bit-介质命名与识别，传输比特流，信号的编码、译码，标准EIA-232C等
  - 数据链路层：帧-点到点通信，差错控制/流量控制/传输管理，MAC/LLC子层，协议PPP STP SDLC HDLC等
    - LLC = 数据链路层上层-逻辑链路控制，Logical Link Control
    - MAC = 数据链路层下层-介质访问控制，Media Access Control
  - 网络层：数据报-主机间通信，差错控制/流量控制/拥塞控制，协议IPv4/6 ICMP ARP OSPF RARP等
  - 传输层：TCP报文段/UDP用户数据报-主机间两个进程通信，差错控制/流量控制/端到端可靠连接/数据传输管理/服务质量，协议TCP UDP
  - 应用层：协议FTP HTTP POP3 SMTP IMAP等

# 物理层
## 通信相关
- 数据形式：数字，模拟
- 传输方式：串行，并行
- 数据通信系统：信源-数据源头，信宿-数据终点，信道
  - 信道分类
    - 传输媒介：传输信号-数字or模拟，传输介质-有线or无线
    - 传输形式：基带/宽带
    - 信息交互方式：单工/半双工/全双工
- 奈奎斯特定理？？
  - V = 2W·log(2)(V)，理想低通信道条件下的极限传输率
  - 码元传输的速率受限，限定W，V →极限传输率
- 香农定理？？
  - V = W·log(2)(1 + S/N)，
  - 信息传输速率的极限，限定W，S/N →极限传输率，考虑信噪比
  - 信噪比 = 10·log(10)(S/N)分贝，香农公式中需转化为非分贝的S/N
- 编码、调制
  - 数-数
    - 非归零码：两个不同电压 = 0、1
    - 曼彻斯特编码：高to低 = 0，反过来 = 1 = 低to高，同轴电缆/双绞线/光纤
    - 差分曼彻斯特：前半电平与上个码元后半个码元，相同 = 0，不同 = 1，自带同步，抗干扰
    - 4B/5B编码
  - 数-模
    - ASK，振幅区别01，振幅键控，调幅？
    - FSK，频率区别01，调频？
    - PSK，相位区别01，调相？
    - QAM，正交结合ASK、PSK
  - 模-数
    - PCM 脉冲编码调制：抽样，量化，编码；Pulse-Code-Modulation
    - 采样定理：采样频率 ≥最大频率的两倍，保证信号完整还原
  - 模-模：频分复用FDM、还原
## 交换、传输介质、设备
- 交换方式：电路交换，报文交换，分组交换
  - 报文交换：存储转发，报文携带原/目的地址等信息
  - 分组交换：存储转发，大数据块划分固定小块
    - 数据报：无连接-不可靠-最大努力-不保证有序到达
    - 虚电路：有连接-可靠-建立连接后报文不需地址-保证有序
- 传输介质：非导向、导向
  - 导向传输介质：
    - 同轴电缆：10BASE，10M/s，总线型，百米级，曼彻斯特编码
    - 双绞线：100BASE，100M/s，星型，百米级，曼彻斯特编码
    - 光纤：1000BASE，1Gb/s，点对点，千米级，曼彻斯特编码
    - 无线：无线电波，微波、红外、激光
- 传输设备
  - 中继器-串联不超过4个，放大器，集线器 = 多端口中继器

# 数据链路层
- 功能：为网络层提供服务
  - 无确认无连接-以太网，有确认无连接-无线通信，有确认面向连接-通信要求高
  - 链路管理：建立，维持，释放
  - 帧相关：帧定界，帧同步，透明传输
  - 流量控制：反馈，控制相邻两节点之间的数据链路流量
  - 差错控制：位错-CRC校验，帧错-｛丢失-定时器机制，重复-帧编号｝
- 组帧
  - 字符计数法：计数说明帧内字节数
  - 字符填充的首位定界法：特殊字符定界开始+结束
  - 比特填充法：0111110 标志帧开始+结束，数据中出现5个1就在后面添0
  - 违规编码法：利用冗余编码，IEEE 802采用
- 设备：能隔离冲突域
  - 网桥：多个以太网连接为一个网段，透明网桥-非最佳路由，源路由网桥-最佳路由
  - 交换机：多端口网桥，本网段内-直通式，不同网段-存储转发
## 差错控制
- 检错编码，自动重传ARQ，发现错误重新传
  - 奇偶校验码
  - CRC 循环冗余校验，Cyclic-Redundancy-Check
    - 通常根据网络数据包数据产生简短固定位数校验码的一种散列函数，主要用途：错误侦测，检测或校验数据传输或者保存后是否出错，基于除留余数
    - 原理：校验码即余数 = 信息码后添加冗余位 mod 生成多项式码
    - 校验码位数 = 冗余位位数 = 生成多项式位数 - 1，冗余位全取值为0，校验码位数算出来不够则在前面补0
    - 二进制模2除法，即异或
    - 发送方：使用原理计算出校验码，信息码后添加校验码，发送
    - 接收方：(信息码+校验码) mod 生成多项式码 = 0
    - 多项式对应二进制数
      - eg：G(x) = X^4 + X^3 + 0 ·X^2 + X + 1
      - <=> G(x) = X^4 + X^3 + X + 1
      - <=> 11011
- 纠错编码，前向纠错FEC，发现错误纠正
  - 海明码？？
- 其他编码
  - 累加校验码
  - 因特网校验？
## 流量控制、可靠传输机制
- 可靠传输机制：确认 + 超时重传
- 自动重传请求 ARQ Automatic-Repeat-reQues
  - 停止等待协议(1,1)
  - GBN 后退N帧ARQ协议：滑动窗口 + 后退N帧，(1, (2^n)-1)；Go-Back-N ARQ
  - SR协议：滑动窗口 + 选择重传，(2^(n-1), 2^(n-1))
## 介质访问控制
- 信道划分 Frequency/Time/Wavelength/code-division-multiplexing
  - FDM-频分多路复用，TDM-时分多路，WDM-波分多路，CDM-码分多路-正交向量内积=0
- 随机访问协议：争用信道，尽可能避免冲突
  - Aloha协议：最早的无线数据通信协议
  - 时隙Aloha协议，每个时隙开始才能发送帧
  - CSMA 载波侦听多路访问 Carrier-Sense-Multiple-Access
    - 1-坚持CSMA，非坚持CSMA，p-坚持CSMA-信道空闲时每个时隙以p的概率发送数据
  - CSMA/CD ~/冲突检测 Collision-Detection
    - 用于有线网络，总线以太网，载波侦听、碰撞检测
    - 先听后发、边听边发、冲突停发、随机重发
    - 总线传播时延影响大，2T内无法确定争用期，最小帧长原理
    - 进制数退避算法，重传次数↑，则推迟的时间范围↑
  - CSMA/CA ~/冲突避免 Collision-Avoidance
    - 用于无线网络，无线局域网802，碰撞避免
    - 实现碰撞避免：二进制指数退避算法，预约信道，ACK帧，RTS/CTS帧
    - ACK = 确认字符，Acknowledge-Character
    - RTS/CTS = 请求发送/允许发送协议，Request-To-Send/Clear-To-Send
  - 轮询访问：令牌传递协议，令牌环局域网
## 局域网 LAN
- 涉及OSI下两层（物理 + 数据链路），强调资源共享
- 常见拓扑：星型，环形，总线型，星型总线结合型
- 传输介质：双绞线，铜缆，光纤
- 介质访问的控制方法：CSMA/CD，令牌总线，令牌环
- 特殊的LAN、拓扑
  - 以太网
    - 逻辑-总线型，物理-星型or扩展星型，IEEE 802.3
    - 广播发送信息，MTU限制1500字节，最小帧长64B
    - 无连接，不可靠，尽最大努力交付
  - 高速以太网：100BASE-T-半全都支持，吉比特-半全都支持，10吉比特-只用光纤+全双工
  - 令牌环网
    - 逻辑-环形，物理-星型，IEEE 802.5
    - 本质是特殊格式的MAC控制帧，公平所有入网计算机访问权
  - FDDI：逻辑-环形，物理-双环，IEEE 802.8
- IEEE 802 的子层划分
  - MAC向下，向上层屏蔽下层差异，向下层提供统一访问接口
  - LLC向上，提供不同的连接服务类型 =｛无连接，面向连接，带确认无连接，高速传送｝
- IEEE 802.11 对应无限局域网
  - 有固定基础设施：基站-无线访问接入点-AP Wireless Access-Point，基本服务集-BSS Basic-Service-Set，移动站，AP接入主干分配系统DS-扩展服务集ESS
  - 无固定基础设施：AD-Hoc-平等
- 网络接口卡NIC 网络接口控制器-网络适配器-网卡 Network-Interface Controller/Card
  - 每块网卡对应唯一MAC地址，工作于物理层，控制主机对介质访问
## 广域网 WAN
- 涉及OSI下三层（物理 + 数据链路 + 网络），强调数据传输
- 交换机组成节点，只能连通同类型网络 ≠互联网
- 核心问题：路由选择，分组转发
- 协议
  - PPP 点对点协议 Point-to-Point-Protocol
    - 面向字节，由LCP NCP组成，将IP数据报分装到串行链路
    - LCP 链路控制协议，向下建立和管理链路，Link-Control-Protocol
    - NCP 网络控制协议，向上为多种网络提供服务，Network-Control-Protocol
  - HDLC
    - 面向比特，配置方式-平衡/非平衡，站类型-主站/从站/复合站，响应方式-正常响应/异步平衡/异步响应

# 网络层
- 异构网络的互联：TCP/IP在网络层采用统一的标准化协议，形成忽略下层差异的虚拟互联网络
- 路由、转发：路由选择，分组转发
- 拥塞控制：开环，闭环；ICMP差错报文-源点抑制实现
- 路由算法
  - 静态路由：管理员手工配置
  - 动态路由算法
    - 距离-向量：只与直接邻居交谈
    - 链路状态：全网广播交谈
  - 层次路由：内部网关协议IGP-自治系统内部使用，外部网关协议EGP-自治系统间使用-ExteriorGatewayProtocol
## IPv4、IPv6
- 分组转发
  - IP数据报分片
    - 根据不同下层网络对数据长度的限制，每个路由都有可能分片
    - 相关字段：标识-同一个数据的依据，段偏移，DF=0表允许分片，MF=1表其后还有分片
  - 转发：直连-直接交付，非直连-间接交付
- IPv4地址
  - 五类 =｛A 1~126，B 128~191，C 192~223，D 224~239 多播，E 240~255 保留｝
  - 特殊：主机号全0-本网络本身，主机号全1-广播，127.0.0.0-环路自检，0.0.0.0-本网络上的本主机，255.255.255.255-整个TCP/IP网络的广播地址-实际受限于广播域的隔离
  - 构成：网络号-地址类决定，子网号-子网掩码决定，主机号，子网掩码
- NAT：专用网内部的可重用地址，即私有网段，NAT转换表实现内部地址与全球IP地址对应
  - A类中：10.0.0.0 ~ 255.255.255.255
  - B类中：172.16.0.0 ~ 172.31.255.255
  - C类中：192.168.0.0 ~ 192.168.255.255
- 子网划分：根据子网掩码对网络地址再进行划分
- 无分类编址CIDR：取消分类网络，灵活分组，最终将叫嚣的网络聚合为超网
- 协议
  - ARP 地址解析协议：IP→MAC 转化，请求分组广播，响应分组单播
  - RARP 逆地址解析协议：MAC →IP 转化
  - DHCP 动态主机配置协议：应用层协议，给主机动态分配IP，基于UDP，C/S方式
  - ICMP 网际控制报文协议：报文作为IP数据报的数据部分
    - ICMP差错报文：终点不可达，源点抑制-实现拥塞控制，超时-依据TTL-tracert命令，参数问题，改变路由
    - ICMP询问报文：回送请求和回答-ping命令，时间戳请求和回答，掩码地址请求和回答，路由器询问和通告
- IPv6
  - 128 bit，点分十进制法表示or缩写表示
  - v4 过渡 v6：双协议栈，隧道技术
  - 解决IP耗尽方法：CIDR，NAT，IPv6-根本解决
## 路由协议
- 自治系统 AS
- 自治系统内部：内部网关协议IGP，含有——
  - RIP 路由信息协议 Routing Information Protocol
    - 应用层协议，基于UDP，端口 520
    - 选择的路径跳数最少
    - 只和相邻路由交换信息，定期交换，交换整个路由表
    - 限制规模，最大距离15，16表不可达
    - 慢收敛，坏消息传播慢，可能环路
  - OSPF 开放式最短路径优先 Open Shortest Path First
    - 网络层协议，基于IP数据报
    - 洪泛法，设置不同的代价灵活选择，基于Dijkstra最短路径算法构建全网拓扑结构图
    - 整个自治系统内部交换，发生变化时交换，交换与自己直接向林的链路+代价
    - 规模可扩充，可划分多层
    - 可实现多路负债平衡
- 自治系统之间：边界网关协议BGP（注意区别EGP外部网关协议），应用层协议，基于TCP，路径可能非最佳
## 其他
- IP组播
  - 只用于UDP，使用因特网组管理协议IGMP，不产生差错报文
  - IP地址：D类 224.0.0.0 ~ 239.255.255.255
  - 硬件地址：01-00-5e + IP地址去掉前5位
- 移动IP：实现跨不同网段的漫游，移动节点，本地代理，外部代理
- 设备：路由器
  - 连接异构网络，进行路由转发（同网直接交付，非同网间接交付）
  - 结构：路由选择 + 分组转发，路由表
- 8583协议
  - 基于ISO8583报文国际标准的包格式的通讯协议
  - 8583包最多由128个字段域组成，每个域都有统一的规定，并有定长与变长之分
  - 8583包前面一段为位图，它是打包解包确定字段域的关键代替
  - 8583协议多在POS机的开发上使用。

# 传输层
- 承上启下连接：通信子网-下三层 and 资源子网-上三层
- 实现不同主机上进程的逻辑通信：端到端，水平逻辑通路
- 分用和复用，差错检测，TCP可靠传输，UDP不可靠传输
- 寻址 + 端口
  - 常用端口：FTP-21，SSH-22，TELNET-23，SMTP-25，DNS-53，TFTP-69，HTTP-80，SNMP-161
  - 套接字socket：主机IP地址 + 端口号
## UDP：17 User Datagram Protocol 用户数据报协议
- 无连接，不可靠，尽最大努力交付，面向报文
- 传送UDP用户报文
- UDP校验
  - 之前增加12B伪首部 = 源IP + 目的IP + 0 + 17 + UDP长度
  - 首部and数据部分 一起校验
  - 查错，不纠错
## TCP：6 Transmission-Control-Protocol 传输控制协议
- 连接，可靠，面向字节流
- 全双工，发送端and接收端设置缓存，累计确认
- 传送TCP报文段：首部 + 数据
- 三次握手 连接
  - 客户端：SYN = 1，seq = x，                          发SYN报文，进入SYN_SEND状态
  - 服务器：SYN = 1，seq = y，    ACK = 1，ack = x + 1，收，回一个SYN报文
  - 客户端：         seq = x + 1，ACK = 1，ack = y + 1，收，回，进入established状态
  - SYN-，ACK-，seq-，ack-
- 四次握手 终止
  - 一端始发，FIN = 1，seq = u
  - 对端收发，         seq = v，    ACK = 1，ack = u + 1，
  - 对端又发，FIN = 1，seq = w，    ACK = 1，ack = u + 1，
  - 一端收发，         seq = u + 1，ACK = 1，ack = w + 1，
- 重传
  - 超时重传：RTTs = (1-a)*OLD + a*NEW
  - 冗余ACK：收到对同一报文段 3个冗余ACK，认为丢失
- 流量控制rwnd：根据报文首部的内容确定？？
- 拥塞控制cwnd：AIMD算法
  - 慢开始 + 拥塞避免
    - 超时重传，阈值？阙值？以下指数增长，以上线性增长
    - 拥塞cwnd先？？变为1，阈值降为cwnd一半
  - 快重传 + 快恢复
    - 直接重传，收到3个针对同一报文冗余ACK时启动
    - 拥塞阈值先降为一半，cwnd变为阈值大小

# 应用层
- 网络应用模型：C/S-不平等，P2P-平等
- DNS 域名解析服务 Domain N？？
  - 域名结构：国家顶级域名 →通用顶级域名 →基础结构域名
  - 域名服务器：根域名服务器 →顶级域名服务器 →授权域名服务器 →本地域名服务器
  - 域名解析：递归查询-委托上级；递归and迭代结合-常用-上级指路
- FTP 文件传输 File T
  - 提供交互式访问，允许指明文件类型+格式，允许文件具有存取权限
  - 服务器端口：20-控制端口，21-数据传输
- client/server 客户服务器模型
- 电子邮件
  - 发：SMTP 25
  - 收：POP3 110，IMAP
  - 转化编码：MIME
- 万维网 WWW
  - URL 统一资源定位符 Uniform Resource Locator
  - HTTP 80 H啥啥
    - 无状态，面向文本，本身无连接-交换前不需先建立连接
    - 连接类型：持久-流水线方式/非流水线方式，非持久-每次单独建立
    - RTT计算？？
  - HTML H啥啥
  - 本地Cookie：存储于本地，HTTP报文中有Cookie编号
